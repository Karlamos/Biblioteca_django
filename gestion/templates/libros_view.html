{% extends "index.html" %}

{% block contenido %}
<div class="col">
    <div class="card h-100 card-custom shadow-lg">
        <div class="card-body d-flex flex-column">
            
            <div class="d-flex justify-content-between align-items-start mb-2">
                <h5 class="card-title fw-bold text-capitalize me-3" style="color: var(--morado-fuerte);">
                    {{ libro.titulo }}
                </h5>
                <span class="badge rounded-pill {% if libro.copias_disponibles > 0 %}badge-disponible{% else %}badge-agotado{% endif %} flex-shrink-0">
                    {% if libro.copias_disponibles > 0 %}
                        {{ libro.copias_disponibles }} Disponibles
                    {% else %}
                        Agotado
                    {% endif %}
                </span>
            </div>
            
            <h6 class="card-subtitle mb-2 text-muted small">
                <span class="fw-semibold">Autor:</span> {{ libro.autor.nombre }} {{ libro.autor.apellido }}
            </h6>
            <h6 class="card-subtitle mb-3 text-muted small">
                <span class="fw-semibold">ISBN:</span> {{ libro.isbn }}
            </h6>
            
            <div class="mt-auto pt-3">
                {% if libro.copias_disponibles > 0 %}
                <a href="/libros/{{ libro.id }}/prestar" class="btn btn-sm btn-purple w-100">
                    Realizar Pr√©stamo
                </a>
                {% else %}
                <button class="btn btn-sm btn-secondary w-100" disabled>
                    No Disponible
                </button>
                {% endif %}
            </div>
        </div>
    </div>
</div>





{% if is_paginated%}
<div class='pagination'>
    {%if page_obj.has_previous%}
    <a href="?page=1"> Primera </a>
    <a href="?page={{ page_obj.previous_page_number}}">Anterior</a>
    {%endif%}
    <span>{{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>

    {%if page_obj.has_next%}
    <a href="?page={{ page_oj.next_page_number}}"> siguiente </a>
    <a href="?page={{ page_obj.paginator.num_pages}}">ultima</a>
    {%endif%}
</div>

{%endif%}
{% endblock %}