{% extends "index.html" %}

{% block contenido %}
<style>
    :root {
        --madera-oscura: #3e2723;
        --dorado-viejo: #a67c00; /* Dorado m치s oscuro para mejor contraste */
        --papel-ficha: #fdfaf3;
        --azul-tinta: #072d66;  /* Azul m치s profundo y legible */
        --rojo-alerta: #b71c1c;
        --texto-etiqueta: #2c3e50; /* Gris muy oscuro, casi negro */
    }

    .biblioteca-titulo {
        font-family: 'Playfair Display', serif;
        color: var(--madera-oscura);
        border-bottom: 3px double var(--dorado-viejo);
        padding-bottom: 10px;
        margin-bottom: 35px;
        text-align: center;
        font-weight: 700;
    }

    .cambio-pass-container {
        display: flex;
        justify-content: center;
        padding: 40px 15px;
    }

    .expediente-card {
        max-width: 450px;
        width: 100%;
        background-color: var(--papel-ficha);
        background-image: linear-gradient(#e1d9cf 1px, transparent 1px);
        background-size: 100% 1.5rem;
        border: 1px solid #c5b9ac;
        padding: 35px;
        box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.1);
    }

    .label-maquina {
        font-family: 'Courier New', monospace;
        font-size: 0.95rem; /* Tama침o m치s equilibrado */
        color: var(--texto-etiqueta);
        text-transform: uppercase;
        display: block;
        margin-bottom: 2px;
        font-weight: 700; /* M치s gruesa para visibilidad */
    }

    .input-manuscrito {
        background: transparent;
        border: none;
        border-bottom: 2.5px solid var(--dorado-viejo);
        font-family: 'Lora', serif;
        font-style: italic;
        color: var(--azul-tinta);
        width: 100%;
        padding: 4px 10px;
        margin-bottom: 25px;
        outline: none;
        font-size: 1.1rem; /* Letra manuscrita m치s grande */
    }

    .input-manuscrito:focus {
        border-bottom-color: var(--madera-oscura);
        background-color: rgba(62, 39, 35, 0.03);
    }

    .btn-biblioteca {
        background-color: var(--madera-oscura);
        color: #ffffff; /* Blanco puro para m치xima legibilidad en bot칩n */
        border: none;
        border-radius: 0;
        font-family: 'Playfair Display', serif;
        font-size: 1.1rem;
        font-weight: bold;
        letter-spacing: 1px;
        padding: 14px;
        margin-top: 10px;
        transition: all 0.3s;
        box-shadow: 0 4px 0px #1a0f0d;
    }

    .btn-biblioteca:hover {
        background-color: #2d1b18;
        transform: translateY(-2px);
    }

    .alerta-manuscrita {
        font-family: 'Courier New', monospace;
        color: var(--rojo-alerta);
        font-size: 0.9rem;
        font-weight: bold;
        border: 2px solid var(--rojo-alerta);
        padding: 10px;
        margin-bottom: 25px;
        background-color: rgba(183, 28, 28, 0.05);
    }
</style>

<div class="container cambio-pass-container">
    <div class="expediente-card">
        <h2 class="biblioteca-titulo">Modificaci칩n de Credenciales</h2>

        {% if form.non_field_errors %}
            <div class="alerta-manuscrita text-center">
                {% for error in form.non_field_errors %}
                    丘멆잺 ERROR: {{ error }}
                {% endfor %}
            </div>
        {% endif %}

        <form method="POST">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="id_old_password" class="label-maquina">Contrase침a Actual:</label>
                <input type="password" id="id_old_password" name="old_password" class="input-manuscrito" required>
            </div>

            <div class="form-group">
                <label for="id_new_password" class="label-maquina">Nueva Contrase침a:</label>
                <input type="password" id="id_new_password" name="new_password" class="input-manuscrito" required>
            </div>

            <div class="form-group">
                <label for="id_new_password2" class="label-maquina">Verificar Contrase침a:</label>
                <input type="password" id="id_new_password2" name="new_password2" class="input-manuscrito" required>
            </div>

            <button type="submit" class="btn btn-biblioteca w-100">
                游 GUARDAR CAMBIOS
            </button>
        </form>

        <div class="mt-4 text-center">
            <a href="{% url 'index' %}" class="label-maquina" style="text-decoration: underline; color: var(--madera-oscura); font-size: 0.8rem;">
                游딏 ABORTAR OPERACI칍N
            </a>
        </div>
    </div>
</div>
{% endblock %}